
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Museo Dirigentes</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">		
		<style>
			#blocker {
				position: absolute;
				width: 100%;
				height: 100%;
				background-color: rgba(0,0,0,0.5);
			}
            #position
            {
                position: absolute;
                color:white;
                top:85%;
                Left:85%;
				width: 5%%;
				height: 5%;				
            }
            #position_instrutions
            {
                position: absolute;
                color:white;
                top:90%;
                Left:5%;
				width: 5%%;
				height: 5%;				
            }
            #audioposition
            {
                position: absolute;
                //color:white;
                top:95;
                Left:5%;
				width: 5%%;
				height: 5%;				
            }
            
			#instructions {
				width: 100%;
				height: 100%;

				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;

				text-align: center;
				font-size: 14px;
				cursor: pointer;
			}
            #menu {
                    //box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);
                    border-radius: 5px;
                    z-index: 1;
                    background: inherit;
                    position: relative;
                    overflow: hidden;
                    height: 70%;
                    width: 70%;
                  }
            #menu:before {
                    background-color: rgba(255, 255, 255, 0.3);
                    backdrop-filter: blur(10px) saturate(100%) contrast(45%) brightness(130%);
                    height: 100%;
                    position: absolute;
                    background: inherit;
                    width: 100%;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    content: "";
                }
                .paneltexto
                {
                    position: absolute;
                    top:0;    
                    bottom:0;
                    overflow : auto;
                    padding: 10px 10px 10px 10px;
                }
                .texto {
                    position: absolute;
                    width: 100%;  
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;  
                }
                .boton {
                    position: absolute;
                    right: 0;
                    top: 0;  
                }

		</style>
	</head>
	<body>  
        
  
        <dialog id="menu1" class="col-sm-12">
        <form method="dialog">
          <section>
            <p id="texto" class="texto">
              El nucleo es mio funciona bien
            </p>
          </section>
          <button
            type="button"
            class="boton btn btn-primary"
            onclick="cerrar1();"
          >
            X
          </button>
        </form>
      </dialog>

       <!-- <div id="position">
            hello
        </div>
       <!--  <div id="position_instrutions">
            Presione C cerca de un cuadro para ver datos del Dirigente Sindical
        </div>-->
		<div id="blocker">
			<div id="instructions">
                <div id="menu" style="font-size:20px; color:white;">                    
                    <div style="font-size:26px; color:white;">
					    MUSEO VIRTUAL DIRIGENTES SINDICALES DE SIGLO XX 
                    </div>
                    <p style="font-size:32px; color:white;">
                        "CIRILO JIMENEZ ALVAREZ"
                    </p>
                    <p>
                    <p>
                    <p>
                    <div style="font-size:18px; color:white;">
                        INSTRUCCIONES                        
                    </div>                    
                    <p style="color:white; font-size:18px;">                        
                        SALON DE EXPOSICIONES<br/><br/>
                        Mover: teclas: W, A, S, D, flechas<br/>
                        Mirar: MOVER MOUSE<br/>                        
                        Datos Dirigente: tecla C <br/>
                        Realidad Aumentada: Apuntar al cuadro con la <a href="https://drive.google.com/file/d/1rM3gJ0VxgmA9NGZp6zr-vHoqFPcDCR5s/view"> APP</a><br/>
                        Informacion: <a href="https://sites.google.com/view/museo-dirigentes">Sitio Web</a><br/><br/>

                        Haga click para comenzar la visita al museo Virtual                        

                    </p>
                </div>
                
			</div>
		</div>
        <audio controls autoplay loop id="audioposition">
            <source src="https://cdn.glitch.global/25ac2c89-9dc7-4d65-8977-00a3df60e85c/mineros.mp3" type="audio/mp3" />
            Tu navegador no soporta audio
        </audio>
        <script>
            function cerrar1() 
            {                
                menu.close();
            }
            function informacion() 
            {
                menu.innerHTML =
                    "<div class='paneltexto'>"+
                        "<h3>MUSEO VIRTUAL DIRIGENTES SINDICALES DE SIGLO XX </h3>"+
                        "<h4>Cirilo Jimenez Alvarez</h4>"+
                        "  . "+
                        "<h1>SALON DE EXPOSICIONES</h1>"+
                        "  . <p>"+
                        //"Mover: teclas: W, A, S, D, flechas<br/>"+
                        //"Mirar: MOVER MOUSE<br/>"+
                        //"Datos Dirigente: tecla C <br/>"+                        
                        //"Informacion: <a href='https://sites.google.com/view/museo-dirigentes'>Sitio Web</a><br/><br/>"+

                    "Haga click para comenzar la visita al salon de exposiciones"+                        
                    "</div>";
            }
            function datos_ireneo() 
            {
                menu.innerHTML =
                "<div class='paneltexto'>"+
                "<table>"+
                    "<tr>"+
                        "<td>"+
                            "<img src='textures/ireneo.jpg' width='200' height='250'>"+
                        "</td>"+
                        "<td><h2>IRENEO PIMENTEL ROJAS<br>1297-1978</h2><p>"+
                        "Ireneo Pimentel Rojas, nace el en Siglo XX el 1 de abril de 1927.<p>"+
                        "Entre 1954 y 1965 fue secretario general del Control Obrero, En su función trató de lograr mejores condiciones de vida y trabajo para los trabajadores mineros<p>A su mérito se debe anotar la construcción del edificio sindical y la Plaza del Minero, donde posteriormente erigió el monumento a Federico Escobar Zapata –su compañero de lucha-, igualmente construyó el estadio María Barzola que hoy lleva su nombre<p>"+
                        "Fue víctima de masacre blanca de la Empresa Patiño Mines & Enterprises Consolidated, Inc.<p>Perseguido, apresado y exiliado por los dictadores Barrientos y Banzer<p>En 1974 Banzer desconoce a los sindicatos e impone coordinadores laborales en su reemplazo, situación rechazada por la Federación de Mineros. El dictador ordena la prisión de los dirigentes mineros Víctor López, Alberto Jara, Irineo Pimentel y otros, en la carceleta de San Pedro y en Chonchocoro, por desobedecer  a Ley de Servicio Civil Obligatorio, falleció en el año 1978Oporto (2006) <p>"+
                        "</td>"+
                    "</tr>"+
                "</table>"+
                "Haga click para continuar"+
                "</div>";                
            }
           function datos_federico() 
            {
                menu.innerHTML =
                "<div class='paneltexto'>"+
                "<table>"+
                    "<tr>"+
                        "<td>"+
                            "<img src='textures/federico2.jpg' width='200' height='250'><p>"+
                            "<img src='textures/federico3.jpg' width='200' height='250'>"+
                        "</td>"+
                        "<td><h2>FEDERICO ESCOBAR ZAPATA<br>1923-1966</h2><p>"+
                        "Federico Escobar Zapata es un nombre vinculado en la historia del sindicalismo boliviano de los años 60. Nace en Oruro (Bolivia) el 26 de noviembre de 1923. Hijo de Francisco Eleuterio Escobar, obrero del ferrocarril Machacamarca – Uncía, y Nieves Zapata de Escobar.<p>"+
                        "Federico quedó huérfano de padre a temprana edad y pasó su niñez en Machacamarca. Estudió sus primeros años en el colegio Leónidas Lazarte y posteriormente en el colegio Simón Bolivar de Oruro.<p>"+
                        "A los 17 años comenzó a trabajar en la Empresa Minera Catavi perteneciente al campamento de Siglo XX, un centro minero de mucha importancia por la producción de estaño. Fue precisamente en Siglo XX donde Simón Patiño, el Rey del Estaño, encontró la veta de estaño más grande del mundo. Patiño fue, en aquel entonces, el industrial más importante de Sudamérica.<p>"+
                        "Desde muy joven se educó para liderar el movimiento obrero más combativo de Bolivia de aquella época. Participaba en asambleas sindicales, se nutría de lecturas revolucionarias, escuchaba hablar del Partido de la Izquierda Revolucionaria (PIR) y de muchas otras cosas referentes a la clase minera. En ese entonces no se había fundado el Partido Comunista Boliviano, pero la oligarquía comentaba sobre la existencia de “agitadores profesionales pertenecientes a un extremismo comunista”<p>"+
                        "Federico Escobar ocupó el cargo de Control Obrero de Siglo XX elegido democráticamente por las bases. El aporte más grande de Federico Escobar; es haber puesto, en Siglo XX, los cimientos de una poderosa organización marxista leninista en abril de 1965, cuando participó en un Congreso como el líder de los mineros. Más de 500 delegados asistieron a esta reunión del proletariado. Se estaba creando, entonces, un verdadero partido político auténtico de la clase obrera. Ningún otro partido político había nacido en las entrañas mismas de la clase obrera boliviana<p>"+
                        "Lamentablemente la obra de Federico Escobar se trunca a causa de su prematura muerte el 8 de noviembre de 1966. Una muerte que ha quedado en un gran enigma. Federico Escobar fue ingresado a una clínica que pertenecía a la Corporación Minera de Bolivia (COMIBOL) por fractura de un brazo y, misteriosamente, salió sin vida (Claure, 2009)"+
                        "</td>"+
                    "</tr>"+
                "</table>"+
                "Haga click para continuar"+
                "</div>";                
            }          
            function datos_filemon() 
            {
                menu.innerHTML =
                "<div class='paneltexto'>"+
                "<table>"+
                    "<tr>"+
                        "<td>"+
                            "<img src='textures/filemon.jpg' width='200' height='250'>"+
                        "</td>"+
                        "<td><h2>FILEMON ESCOBAR JIMENEZ<br>1934-2017</h2><p>"+
                        "Filemón Escobar nació el 26 de octubre de 1934 en la localidad de Uncía en el Departamento de Potosí.1 Quedó huérfano a los 12 años y fue internado en el orfanato Méndez Arcos en la ciudad de La Paz. Allí se inició en la política conociendo al entonces Presidente Gualberto Villarroel, que contó con el respaldo de campesinos y mineros.<p>"+
                        "A la edad de 21 años fue elegido como Secretario de Cultura del Sindicato de Mineros de Siglo XX. También fue dirigente de la Federación Sindical de Trabajadores Mineros de Bolivia, FSTMB, después que Juan Lechín Oquendo dejó el mando y dirigente de la Central Obrera Boliviana (COB), entidad por la que abogó como instancia suprapartidaria capaz de activar la revolución<p>"+
                        "El 21 de agosto de 1986, cuando fue secretario general de los trabajadores de Catavi2 junto a Simón Reyes encabezó la Marcha por la Vida en contra de la relocalización de mineros durante el Gobierno de Víctor Paz Estenssoro. Militó en el Partido Obrero Revolucionario (POR) y posteriormente, en Vanguardia Obrera. Fue candidato a la vicepresidencia con Genaro Flores en las elecciones de 1985 por el Movimiento Revolucionario Túpac Katari de Liberación, MRTKL, e ideólogo y fundador del Movimiento al Socialismo (Bolivia). En la política se lo conoció coloquialmente como Filipo<p>"+
                        "Murió el 6 de junio de 2017, a la edad de 82 años en la localidad de Tiquipaya, Cochabamba, afectado por cáncer de pulmón fue sepultado en el Cementerio General de Cochabamba.<p>"+
                        "</td>"+
                    "</tr>"+
                "</table>"+
                "Haga click para continuar"+
                "</div>";                
            }
            function datos_issac() 
            {
                menu.innerHTML =
                "<div class='paneltexto'>"+
                "<table>"+
                    "<tr>"+
                        "<td>"+
                            "<img src='textures/issac2.jpg' width='200' height='250'>"+
                        "</td>"+
                        "<td><h2>ISSAC CAMACHO<br>1933-1967</h2><p>"+
                        "Nació en la población de Llallagua en 1933 y estudió en el Instituto Americano de la ciudad de La Paz. Ingresó a trabajar a la mina de Siglo XX, en la sección Block-kaving, en febrero de 1957. Desde entonces se perfiló como un auténtico dirigente político y sindical.<p>"+
                        "Isaac Camacho, un mes después de denunciar a los culpables del asesinato de su compañero y camarada inseparable César Lora, acaecido el 29 de julio de 1965, en las cercanías de San Pedro de Buena Vista, fue apresado, conducido al campo de concentración de Alto Madidi y encerrado en las celdas del Panóptico Nacional, de donde fue liberado por una fuerte presión popular.<p>"+
                        "A su retorno a Llallagua, Isaac Camacho prosiguió su lucha contra la dictadura militar de Rene Barrientos Ortuño, en su calidad de dirigente de los “sindicatos clandestinos”. Así se mantuvo hasta la noche del 23 de junio de 1967, en que se dio inicio a la tradicional fogata de San Juan, encendiendo leña y trastos viejos en las calles, mientras alrededor del crepitante fuego se reunían las familias mineras, haciendo tronar juegos artificiales y brindando en la noche más frígida del año<p>"+
                        "Un mes después de la “masacre de San Juan”, fue apresado y desaparecido por las fuerzas de represión del Estado boliviano. Cuando los mineros y su esposa reclamaron por su ausencia, el Ministro del Interior, Antonio Arguedas, dijo que el 9 de agosto fue embarcado rumbo a Argentina. Nada más falso. Se removió cielo y tierra, y no se lo volvió a encontrar ni vivo ni muerto. Desapareció para siempre<p>"+
                        "</td>"+
                    "</tr>"+
                "</table>"+
                "Haga click para continuar"+
                "</div>";                
            }
            function datos_cirilo() 
            {
                menu.innerHTML =
                "<div class='paneltexto'>"+
                "<table>"+
                    "<tr>"+
                        "<td>"+
                            "<img src='textures/cirilo.jpg' width='200' height='250'>"+
                        "</td>"+
                        "<td><h2>CIRILO JIMENEZ<br>1930-2018</h2><p>"+
                        "irilo Jiménez Alvarez Nació en Tacaraní, Potosí en 1930, en 1952 ingresó a trabajar como empleado de Bienestar de la Patiño Mines, donde se mantuvo por 8 años. Posteriormente pasó a la Planta Sink & Flota, y trabajó en interior mina. Fue dirigente sindical en las carteras de Organización, Vinculación Campesina y Conflictos en el Sindicato Mixto de Trabajadores Mineros de Siglo XX.<p>"+
                        "En la Federación Sindical de Trabajadores Mineros de Bolivia (FSTMB) fue secretario de Deportes (1982-1984) y Conflictos (1985-1993). Fundador y primer secretario de la Central Obrera Regional del Norte de Potosí. Como resultado de su actividad sindical fue retirado de la empresa, confinado y perseguido por las dictaduras militares<p>"+
                        "Cirilo Jiménez Alvarez destaca principalmente por se el impulsor de la creación de la Universidad Nacional “Siglo XX”, de la que fue su Vicerrector y posteriormente llego a ser Rector.<p>"+                        
                        "</td>"+
                    "</tr>"+
                "</table>"+
                "Haga click para continuar"+
                "</div>";                
            }
            function datos_domitila() 
            {
                menu.innerHTML =
                "<div class='paneltexto'>"+
                "<table>"+
                    "<tr>"+
                        "<td>"+
                            "<img src='textures/domitila.jpg' width='200' height='250'>"+
                        "</td>"+
                        "<td><h2>DOMITILA CHUNGARA<br>1937-2012</h2><p>"+
                        "Domitila Barrios nació el 7 de mayo de 1937 en la comunidad Catavi, cerca de la mina Siglo XX.1 Cuando tenía diez años, los rigores de la vida en el pueblo minero acabaron con la vida de su madre por lo que tuvo que hacerse cargo del cuidado de sus cinco hermanas menores, pues su padre pasaba todo el día trabajando como sastre de la policía minera. Empezó su trabajo en la mina como palliri.<p>"+
                        "En 1952, como esposa de un trabajador minero, fue parte del Comité de Amas de Casa del Distrito Minero Siglo XX. Ya entonces su liderazgo era evidente, lo que la llevó a ser designada Secretaria General de ese organismo<p>"+
                        "Salió al exilio en a década de los ochenta, pero pronto volvió a Bolivia y se instaló en Cochabamba, donde impulsaba un centro de formación política especialmente destinada a las jóvenes de los barrios más empobrecidos de esta ciudad<p>"+                        
                        "en junio de 1967, el presidente René Barrientos Ortuño envió un contingente militar a las comunidades de Catavi y Llallagua, para reprimir las reivindicaciones de los mineros parapetados contra la explotación y los abusos de los grandes empresarios. Tras la matanza, Domitila Barrios Cuenca fue apresada y torturada por los militares. A consecuencia de estos abusos perdió el bebé que llevaba dentro de su vientre. Estos hechos se conocen como la Masacre de San Juan<p>"+
                        "A principios de 1978, Barrios fue convocada para formar parte del segundo piquete de huelguistas que instaló el sacerdote Luis Espinal en predios del periódico Presencia junto con el sacerdote Xavier Albó para apoyar la huelga de hambre que instalaron previamente cuatro mujeres mineras contra la dictadura; y en poco tiempo, más de 1.500 personas se sumaron a la huelga. Con el pasar de las horas, los huelguistas se multiplicaron por miles, y al régimen militar no le quedó otra opción salvo la de claudicar en favor de la democracia.<p>"+
                        "Apoyó a doblegar a la dictadura militar del Gral. Hugo Banzer Suárez obligándole a iniciar una verdadera apertura democrática y no un simulacro, como era lo originalmente planeado.<p>"+
                        "Falleció de cáncer de pulmón en la ciudad de Cochabamba el 13 de marzo de 2012 a los 74 años de edad, posteriormente el Gobierno Nacional de Bolivia declaró 3 días de duelo nacional.<p>"
                        "</td>"+
                    "</tr>"+
                "</table>"+
                "Haga click para continuar"+
                "</div>";                
            }
        </script>
		<script type="module">
            //IMPORTANDO LAS CLASES NECESARIAS              
            informacion();
			
        import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.118/build/three.module.js';
      import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.118.1/examples/jsm/loaders/GLTFLoader.js'
      import { PointerLockControls } from 'https://cdn.jsdelivr.net/npm/three@0.118.1/examples/jsm/controls/PointerLockControls.js'
//      import * as THREE from '/three/build/three.module.js';

//			import { PointerLockControls } from '/three/examples/jsm/controls/PointerLockControls.js';

  //          import {GLTFLoader} from '/three/examples/jsm/loaders/GLTFLoader.js';

    //        import { FBXLoader } from '/three/examples/jsm/loaders/FBXLoader.js';

			let camera, scene, renderer, controls;

			const objects = [];

			let raycaster;

			let moveForward = false;
			let moveBackward = false;
			let moveLeft = false;
			let moveRight = false;
			let canJump = false;

			let prevTime = performance.now();
			const velocity = new THREE.Vector3();
			const direction = new THREE.Vector3();
			const vertex = new THREE.Vector3();
			const color = new THREE.Color();
            let pos_X=0;
            let pos_Y=0;
            let pos_Z=0;
			init();
			animate();
            //let text_position;
            //CAMARA
            function push_camera()
            {
                camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 1000 );
				camera.position.y = 10;
            }
            function push_scene()
            {
                scene = new THREE.Scene();
				scene.background = new THREE.Color( 0x000000 );
				//scene.fog = new THREE.Fog( 0xffffff, 0, 750 );
            }
            function push_ligth_hemisphere(intensidad)
            {    
                const hemiLight = new THREE.HemisphereLight(0xffffff, 0x999999, intensidad);
                
                //hemiLight.color.setHSV( 0.6, 0.75, 0.5 );
                //hemiLight.groundColor.setHSV( 0.095, 0.5, 0.5 );
                //hemiLight.position.set( 5, 10, 4 );
                hemiLight.position.set( 0, 10, 140 );                
				scene.add( hemiLight );
            }
            function push_mouse_controls()
            {
                controls = new PointerLockControls( camera, document.body );
				const blocker = document.getElementById( 'blocker' );
				const instructions = document.getElementById( 'instructions' );
                
				instructions.addEventListener( 'click', function () {

					controls.lock();

				} );	
                    
				controls.addEventListener( 'lock', function () {

					instructions.style.display = 'none';
					blocker.style.display = 'none';

				} );

				controls.addEventListener( 'unlock', function () {

					blocker.style.display = 'block';
					instructions.style.display = '';

				} );                 
				scene.add( controls.getObject() );
            }            
            function push_renderer()
            {
                renderer = new THREE.WebGLRenderer( { antialias: true } );
				renderer.setPixelRatio( window.devicePixelRatio );                
				renderer.setSize( window.innerWidth, window.innerHeight );

                renderer.toneMapping = THREE.ACESFilmicToneMapping;
				renderer.toneMappingExposure = 1;
				//renderer.outputEncoding = THREE.sRGBEncoding;


				document.body.appendChild( renderer.domElement );
            }
            function push_objects()
            {
            // objects

				const boxGeometry = new THREE.BoxGeometry( 20, 20, 20 ).toNonIndexed();

				position = boxGeometry.attributes.position;
				const colorsBox = [];

				for ( let i = 0, l = position.count; i < l; i ++ ) {

					color.setHSL( Math.random() * 0.3 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );
					colorsBox.push( color.r, color.g, color.b );

				}

				boxGeometry.setAttribute( 'color', new THREE.Float32BufferAttribute( colorsBox, 3 ) );

				for ( let i = 0; i < 500; i ++ ) {

					const boxMaterial = new THREE.MeshPhongMaterial( { specular: 0xffffff, flatShading: true, vertexColors: true } );
					boxMaterial.color.setHSL( Math.random() * 0.2 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );

					const box = new THREE.Mesh( boxGeometry, boxMaterial );
					box.position.x = Math.floor( Math.random() * 20 - 10 ) * 20;
					box.position.y = Math.floor( Math.random() * 20 ) * 20 + 10;
					box.position.z = Math.floor( Math.random() * 20 - 10 ) * 20;

					scene.add( box );
					objects.push( box );

				}
            }
            function push_floor()
            {
                // floor

				let floorGeometry = new THREE.PlaneGeometry( 2000, 2000, 100, 100 );
				floorGeometry.rotateX( - Math.PI / 2 );

				// vertex displacement

				let position = floorGeometry.attributes.position;

				for ( let i = 0, l = position.count; i < l; i ++ ) {

					vertex.fromBufferAttribute( position, i );

					vertex.x += Math.random() * 20 - 10;
					vertex.y += Math.random() * 2;
					vertex.z += Math.random() * 20 - 10;

					position.setXYZ( i, vertex.x, vertex.y, vertex.z );

				}

				floorGeometry = floorGeometry.toNonIndexed(); // ensure each face has unique vertices

				position = floorGeometry.attributes.position;
				const colorsFloor = [];

				for ( let i = 0, l = position.count; i < l; i ++ ) {

					color.setHSL( Math.random() * 0.3 + 0.5, 0.75, Math.random() * 0.25 + 0.75 );
					colorsFloor.push( color.r, color.g, color.b );

				}

				floorGeometry.setAttribute( 'color', new THREE.Float32BufferAttribute( colorsFloor, 3 ) );

				const floorMaterial = new THREE.MeshBasicMaterial( { vertexColors: true } );

				const floor = new THREE.Mesh( floorGeometry, floorMaterial );
				scene.add( floor );				
            }
            function push_wall(posx,posy,posz,color_cube,tamX,tamY,tamZ)
            {
                //Definimos la geometria
                const geometry = new THREE.BoxGeometry(tamX,tamY,tamZ);
                //const material = new THREE.MeshBasicMaterial( { color: 0xFFFFFF } );
                const material = new THREE.MeshLambertMaterial( { color: 0xFFFFFF } );
                const objeto1 = new THREE.Mesh( geometry, material );
                objeto1.position.set(posx,posy,posz);
                scene.add( objeto1 );  
                return objeto1;
            }
            function push_photo(posx,posy,posz,color_cube,tamX,tamY,tamZ,textura,rotx=0,roty=0,rotz=0)
            {
                //Definimos la geometria
                const geometry = new THREE.BoxGeometry(tamX,tamY,tamZ);
                //const material = new THREE.MeshBasicMaterial( { color: 0xFF0000 } );
                //const material = new THREE.MeshLambertMaterial( { color: color_cube } );     
                const loaderT = new THREE.TextureLoader();
                const material = new THREE.MeshBasicMaterial
                ({
                    //color: 0xFF8844
                    map: loaderT.load(textura)
                });
                const objeto1 = new THREE.Mesh( geometry, material );
                objeto1.position.set(posx,posy,posz);
                objeto1.rotation.set(rotx,roty,rotz);
                scene.add( objeto1 );  
                return objeto1;
            }
            function push_cuadro(posx,posy,posz,color_cube,tamX,tamY,tamZ,photo,rotx=0,roty=0,rotz=0)
            {
                //colocando la pared del cuadro
                //push_wall(posx,posy+13,posz,color_cube,tamX,tamY,tamZ);
                //Definiendo el tamaño del cuadro
                 push_photo(posx,posy+13,posz,color_cube,tamX-2,tamY-4,tamZ+0.3,photo,rotx,roty,rotz)
            }
             //FUNCION PARA COLOCAR UNA LUZ DIRECCIONAL
        function push_directional_light(px,py,pz,tx,ty,tz,color,intensity)        
        {
            //colocamos una luz direccional
            const light = new THREE.DirectionalLight( color,intensity);
	        //light.position.set(0, 20, 0);
            
            //light.position.multiplyScalar( 50);
            //light.castShadow = true;
            //light.shadowMapWidth = light.shadowMapHeight = 1024*2;


            //light.target.position.set(0, 10, 0);
            light.position.set(px,py,pz);
            light.target.position.set(tx,ty,tz);
            scene.add(light);            
            scene.add(light.target);
        }
        function push_ambiental_ligth(color,intensity)
        {
            const light = new THREE.AmbientLight( color,intensity );
            scene.add( light );
        }

        function push_model_fbx(px,py,pz,tam,modelo)
        {
            const fbxloader = new FBXLoader();               
			fbxloader.load( modelo, function ( fbxobject ) 
            {
                //alert('entra1');
				/*mixer = new THREE.AnimationMixer( fbxobject );
				const action = mixer.clipAction( fbxobject.animations[ 0 ] );
				action.play();*/
                //alert('entra2');
				fbxobject.traverse( function ( child ) 
                {
					if ( child.isMesh ) 
                    {
					    child.castShadow = true;
						child.receiveShadow = true;
					}
				} );        
                fbxobject.scale.set(tam,tam,tam);        
                fbxobject.position.set(px,py,pz);        
				scene.add( fbxobject );
                //objeto=fbxobject; 
                alert('entra1');
			} );
        }
      
        function push_modelGLB_not_animed(posx=0,posy=0,posz=0,url, sizeX,sizeY,sizeZ,rotx=0,roty=0,rotz=0,nombreObjetoRaiz)
        {                        
            const gltfLoader = new GLTFLoader();            
            const objeto1=null;
            
            gltfLoader.load(url, (gltf) => 
            {
            
                const model = gltf.scene;            
                model.scale.set(sizeX,sizeY,sizeZ);                
                model.rotation.set(rotx,roty,rotz);
                model.position.set(posx,posy,posz);
                scene.add(model);
                //alert(dumpObject(model).join('\n'));                                             
                const objeto1 = model.getObjectByName(nombreObjetoRaiz);
            });            
            return objeto1;
        }
			
			function push_cuadros()
            {
                 const url2="https://cdn.glitch.global/25ac2c89-9dc7-4d65-8977-00a3df60e85c/";
                //cuadros de al frente
                //colocar letrero
                push_cuadro(-25,19,-19,0xFFFFFF,40,14,0.3,url2+'salon_exposiciones.jpg',0,1.6,0);

                //tapando puertas
                push_cuadro(447,10,-17,0xFFFFFF,70,55,0.3,url2+'minero.jpg',0,1.6,0);

                
                push_cuadro(-132,8,-16,0xFFFFFF,40,15,0.3,url2+'letrero_ingresar_sala_principal.jpg',0,1.57,0);	

                //UNA PARED                
                push_cuadro(-136.5,1,-62,0xFFFFFF,17,27,1,url2+'u3.jpg',0,-1.58,0);	
                push_cuadro(-120,1,-83.5,0xFFFFFF,17,27,2,url2+'u2.jpg');	
                push_cuadro(-88,1,-83.5,0xFFFFFF,17,27,2,url2+'u41.jpg');	                           
                push_cuadro(-58,1,-83.5,0xFFFFFF,17,27,2,url2+'u4.jpg');	
                push_cuadro(-26,1,-83.5,0xFFFFFF,17,27,2,url2+'u5.jpg');	
                push_cuadro(3,1,-83.5,0xFFFFFF,17,27,2,url2+'u6.jpg');	               
                push_cuadro(35,1,-83.5,0xFFFFFF,17,27,2,url2+'u7.jpg');	
                push_cuadro(66,1,-83.5,0xFFFFFF,17,27,2,url2+'u8.jpg');	
                push_cuadro(98,1,-83.5,0xFFFFFF,17,27,2,url2+'u9.jpg');	
                push_cuadro(128,1,-83.5,0xFFFFFF,17,27,2,url2+'u10.jpg');	
                push_cuadro(160,1,-83.5,0xFFFFFF,17,27,2,url2+'u11.jpg');	
                push_cuadro(190,1,-83.5,0xFFFFFF,17,27,2,url2+'u12.jpg');	
                push_cuadro(222,1,-83.5,0xFFFFFF,17,27,2,url2+'u13.jpg');	
                push_cuadro(252,1,-83.5,0xFFFFFF,17,27,2,url2+'u14.jpg');	
                push_cuadro(284,1,-83.5,0xFFFFFF,17,27,2,url2+'u15.jpg');	
                push_cuadro(314,1,-83.5,0xFFFFFF,17,27,2,url2+'u16.jpg');	
                push_cuadro(344,1,-83.5,0xFFFFFF,17,27,2,url2+'u17.jpg');	
                push_cuadro(376,1,-83.5,0xFFFFFF,17,27,2,url2+'u18.jpg');	
                push_cuadro(406,1,-83.5,0xFFFFFF,17,27,2,url2+'u19.jpg');	
                push_cuadro(438,1,-83.5,0xFFFFFF,17,27,2,url2+'u20.jpg');	
                
                //DEL OTRO LADO
                //push_cuadro(-136,1,-62,0xFFFFFF,17,27,2,'textures/u21.jpg',0,-1.6,0);	
                push_cuadro(-120,1,47,0xFFFFFF,17,27,2,url2+'u22.jpg');	
                push_cuadro(-88,1,47,0xFFFFFF,17,27,2,url2+'u23.jpg');	                           
                push_cuadro(-58,1,47,0xFFFFFF,17,27,2,url2+'u24.jpg');	
                push_cuadro(-26,1,47,0xFFFFFF,17,27,2,url2+'u25.jpg');	
                push_cuadro(3,1,47,0xFFFFFF,17,27,2,url2+'u26.jpg');	               
                push_cuadro(35,1,47,0xFFFFFF,17,27,2,url2+'u27.jpg');	
                push_cuadro(66,1,47,0xFFFFFF,17,27,2,url2+'u28.jpg');	
                push_cuadro(98,1,47,0xFFFFFF,17,27,2,url2+'u29.jpg');	
                push_cuadro(128,1,47,0xFFFFFF,17,27,2,url2+'u30.jpg');	
                push_cuadro(160,1,47,0xFFFFFF,17,27,2,url2+'u31.jpg');	
                push_cuadro(190,1,47,0xFFFFFF,17,27,2,url2+'u32.jpg');	
                push_cuadro(222,1,47,0xFFFFFF,17,27,2,url2+'u33.jpg');	
                push_cuadro(252,1,47,0xFFFFFF,17,27,2,url2+'u34.jpg');	
                push_cuadro(284,1,47,0xFFFFFF,17,27,2,url2+'u35.jpg');	
                push_cuadro(314,1,47,0xFFFFFF,17,27,2,url2+'u36.jpg');	
                push_cuadro(344,1,47,0xFFFFFF,17,27,2,url2+'u37.jpg');	
                push_cuadro(376,1,47,0xFFFFFF,17,27,2,url2+'u38.jpg');	
                push_cuadro(406,1,47,0xFFFFFF,17,27,2,url2+'u39.jpg');	
                push_cuadro(438,1,47,0xFFFFFF,17,27,2,url2+'u40.jpg');	                
                                
            }            
            //FUNCION PARA AGREGAR UN SKYBOX
            function push_hdri(texture_hdri)
            {
                const loader = new THREE.TextureLoader();
                const texture = loader.load(
                    texture_hdri,
                () => {
                    const rt = new THREE.WebGLCubeRenderTarget(texture.image.height);
                    rt.fromEquirectangularTexture(renderer, texture);
                    scene.background = rt.texture;
                });

            }

            function init()
            {		            
                //text_position = document.getElementById( 'position' );  	    
                push_scene();
				push_camera();
                
                //push_ambiental_ligth(0xFFFFFF,0.01);
                push_directional_light(0,-20,140,0,42,140,0xFFFFFF,0.7);
                push_directional_light(0,35,140,0,25,140,0xFFFFFF,0.7);

                push_directional_light(-36,10,21,-30,10,-40,0xFFFFFF,0.3);
                push_ligth_hemisphere(0.5);
				push_mouse_controls();
                push_keyboard_controls();
                controls.getObject().position.x=-120;                                
                controls.getObject().position.z=-20;
                //colocando palacio               
              /*
                push_modelGLB_not_animed(0,32,140,'models/salonlargo1.glb',7,6,7,0,0,0,'scene');                                              
                //colocando caso del minero
                //Guardatojo
                push_modelGLB_not_animed(400,30,-20,'models/guardatojo1.glb',0.20,0.18,0.20,0,-1.5,0,'scene');
                //Colocando UNSXX
              //  push_modelGLB_not_animed(430,-3,-20,'models/letrasunsxx.glb',0.078,0.12,0.08,0,-1.5,0,'scene');                
               //cIRILO dORADO     
                push_modelGLB_not_animed(-23,-8,-20,'models/pilar2.glb',6,4,6,0,0,0,'scene');   
                push_modelGLB_not_animed(-23,15,-20,'models/cirilo.glb',0.03,0.03,0.03,0,-1.1,0,'scene');

                //colocando estatua de Cirilo
                push_modelGLB_not_animed(70,3.8,-20,'models/cirilo77.glb',0.03,0.03,0.03,0,-1,0,'scene');
*/
                push_cuadros();

                
				raycaster = new THREE.Raycaster( new THREE.Vector3(), new THREE.Vector3( 0, - 1, 0 ), 0, 10 );
				
                push_renderer();                
				window.addEventListener( 'resize', onWindowResize );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}        
               
			function animate() {

				requestAnimationFrame( animate );
                
				const time = performance.now();
                                                
                pos_X=Math.round(controls.getObject().position.x);
                pos_Y=Math.round(controls.getObject().position.y);
                pos_Z=Math.round(controls.getObject().position.z);
                if ((pos_X > -140) && (pos_X < -130) && (pos_Z > -40) && (pos_Z < 10))
                {
                    location.href = "index.html";
                }
                {
				if ( controls.isLocked === true )
                {

					raycaster.ray.origin.copy( controls.getObject().position );
					raycaster.ray.origin.y -= 10;

					const intersections = raycaster.intersectObjects( objects );

					const onObject = intersections.length > 0;

					const delta = ( time - prevTime ) / 2000;

					velocity.x -= velocity.x * 10.0 * delta;
					velocity.z -= velocity.z * 10.0 * delta;

					//velocity.y -= 9.8 * 100.0 * delta; // 100.0 = mass
                    velocity.y -= 40.8 * 100.0 * delta; // 100.0 = mass

					direction.z = Number( moveForward ) - Number( moveBackward );
					direction.x = Number( moveRight ) - Number( moveLeft );
					direction.normalize(); // this ensures consistent movements in all directions
                    if ( moveForward )
                    {                          
                        velocity.z -= direction.z * 400.0 * delta;
                    }
					if (  moveBackward )
                    {                         
                            velocity.z -= direction.z * 400.0 * delta;
                    }
					if ( moveLeft || moveRight ) 
                    {
                        velocity.x -= direction.x * 400.0 * delta;
                    }


					if ( onObject === true ) {

						velocity.y = Math.max( 0, velocity.y );
						canJump = true;

					}

					

                    {
                       controls.moveRight( - velocity.x * delta );                    
                    }

                    {
                        controls.moveForward( - velocity.z * delta );                                            
                    }

					controls.getObject().position.y += ( velocity.y * delta ); // new behavior

					if ( controls.getObject().position.y < 10 ) {

						velocity.y = 0;
						controls.getObject().position.y = 10;

						canJump = true;

					}

				}

				prevTime = time;
                //mostramos nuestra posicion
                //text_position.innerHTML="pruebaaaaaaa";
                
                //controls.getObject().position.y


                //Preguntamos la posicion para mostrar informacion de un dirgiente XX
                
                //document.getElementById("position").innerHTML = "x="+pos_X +" y=" + pos_Y+" z="+pos_Z;
            }    

				renderer.render( scene, camera );

			}           
            function control_position_person()
            {
                controls.unlock();
                //Verificamos si esta en la puerta de Cirilo
                if ((pos_X > -140) && (pos_X < -130) && (pos_Z > -40) && (pos_Z < 10))
                {
                    location.href = "index.html";
                }
                /*
                //Verificamos si es el cirilo
                if ((pos_X > -80) && (pos_X < 10) && (pos_Z > -70) && (pos_Z < -30))
                {
                    //datos_dirigentes.innerHTML ="Es el Cirilo <br/>";                    
                    datos_cirilo();
                }
                else
                {
                    //Verificamos si es el Filipo
                    if ((pos_X > -130) && (pos_X < -80) && (pos_Z > -70) && (pos_Z < -30))
                    {
                        //datos_dirigentes.innerHTML ="Es el Filipo <br/>";                    
                        datos_filemon();
                    }
                    else                                
                    {
                        //Verificamos si es el Federico
                        if ((pos_X > 10) && (pos_X < 80) && (pos_Z > -70) && (pos_Z < -30))
                        {
                            //datos_dirigentes.innerHTML ="Es el Federico <br/>";                    
                            datos_federico();
                        }
                        else                                
                        {
                            //Verificamos si es la domitila
                            if ((pos_X > 10) && (pos_X < 80) && (pos_Z > -30) && (pos_Z < 45))
                            {
                                //datos_dirigentes.innerHTML ="Es la domitila<br/>";                    
                                datos_domitila();
                            }
                            else
                            {
                                //Verificamos si es el Ireneo
                                if ((pos_X > -70) && (pos_X < 10) && (pos_Z > -30) && (pos_Z < 45))
                                {
                                    //datos_dirigentes.innerHTML ="Es el Ireneo<br/>";                    
                                    //ireneo_information();
                                    datos_ireneo();
                                }
                                else
                                {
                                    //Verificamos si es el Issac
                                    if ((pos_X > -130) && (pos_X < -70) && (pos_Z > -30) && (pos_Z < 45))
                                    {
                                        //datos_dirigentes.innerHTML ="Es el Issac<br/>";                  
                                        datos_issac();   
                                    }
                                    else
                                    {
                                        //datos_dirigentes.innerHTML ="Acerquese a la foto de un Dirigente y presione la tecla C<br/>";
                                    }
                                }
                            } 
                        }                       
                    }
                }
                datos_dirigentes.innerHTML +="<br/>Salir: Click con el mouse";
                */
            } 
            function push_keyboard_controls()
            {
                 const onKeyDown = function ( event ) {

					switch ( event.code ) {

						case 'ArrowUp':
						case 'KeyW':
							moveForward = true;
							break;

						case 'ArrowLeft':
						case 'KeyA':
							moveLeft = true;
							break;

						case 'ArrowDown':
						case 'KeyS':
							moveBackward = true;
							break;

						case 'ArrowRight':
						case 'KeyD':
							moveRight = true;
							break;

						case 'Space':
							if ( canJump === true ) velocity.y += 400;
							canJump = false;
							break;
                        case 'KeyC':
                                //control_position_person();                                
							break;

					}

				};

				const onKeyUp = function ( event ) {

					switch ( event.code ) {

						case 'ArrowUp':
						case 'KeyW':
							moveForward = false;
							break;

						case 'ArrowLeft':
						case 'KeyA':
							moveLeft = false;
							break;

						case 'ArrowDown':
						case 'KeyS':
							moveBackward = false;
							break;

						case 'ArrowRight':
						case 'KeyD':
							moveRight = false;
							break;

					}

				};

				document.addEventListener( 'keydown', onKeyDown );
				document.addEventListener( 'keyup', onKeyUp );
            }
		</script>
	</body>
</html>